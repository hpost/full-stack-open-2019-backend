{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/ErrorMessage.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","updatedObject","put","Filter","value","onChange","PersonForm","onSubmit","nameValue","numberValue","onNameChange","onNumberChange","type","Persons","persons","onDelete","map","person","key","name","number","onClick","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","personsService","showNotification","setTimeout","showError","shownPersons","length","entry","toLowerCase","includes","event","target","preventDefault","some","window","confirm","find","p","updatedPerson","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a071e1c.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject => axios.post(baseUrl, newObject).then(response => response.data)\n\nconst remove = id => axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n\nconst updateNumber = (id, updatedObject) => axios.put(`${baseUrl}/${id}`, updatedObject).then(response => response.data)\n\nexport default { getAll, create, remove, updateNumber }\n","import React from 'react'\n\nconst Filter = ({ value, onChange }) =>\n  <div>\n    filter shown with: <input onChange={onChange} value={value} />\n  </div>\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({ onSubmit, nameValue, numberValue, onNameChange, onNumberChange }) =>\n  <form onSubmit={onSubmit}>\n    <div>\n      name: <input onChange={onNameChange} value={nameValue} />\n    </div>\n    <div>\n      number: <input onChange={onNumberChange} value={numberValue} />\n    </div>\n    <div>\n      <button type='submit'>add</button>\n    </div>\n  </form>\n\nexport default PersonForm\n","import React from 'react'\n\nconst Persons = ({ persons, onDelete }) =>\n  persons.map(person =>\n    <div key={person.name}>\n      {person.name} {person.number}\n      <button onClick={() => onDelete(person.id, person.name)}>delete</button>\n    </div>\n  )\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  let notificationStyle = {\n    color: 'green',\n    background: 'lightgray',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorMessage = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  let errorStyle = {\n    color: 'red',\n    background: 'lightgray',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={errorStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const fetchPersons = () => {\n    personsService\n      .getAll()\n      .then(persons => setPersons(persons))\n  }\n\n  useEffect(fetchPersons, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    if (persons.some(entry => entry.name === newName)) {\n      const replace = window.confirm(`${newName} is already added to phonebook. Replace the old number with a new one?`)\n      if (replace) {\n        const person = persons.find(p => p.name === newName)\n        const updatedObject = {\n          name: person.name,\n          number: newNumber\n        }\n        personsService\n          .updateNumber(person.id, updatedObject)\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.id === updatedPerson.id ? updatedPerson : p))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            showError(`Information of ${person.name} has already been deleted from server`, true)\n          })\n      }\n      return\n    }\n\n    const newObject = {\n      name: newName,\n      number: newNumber\n    }\n    personsService\n      .create(newObject)\n      .then(person => {\n        setPersons(persons.concat(person))\n        setNewName('')\n        setNewNumber('')\n        showNotification(`Added '${person.name}'`)\n      })\n  }\n\n  const deletePerson = (id, name) => {\n    const confirmed = window.confirm(`Delete ${name}?`)\n    if (!confirmed) return\n\n    personsService.remove(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        showNotification(`Deleted '${name}'`)\n      })\n      .catch(error => {\n        showError(`Information of ${name} has already been deleted from server`, true)\n      })\n  }\n\n  const showNotification = (message) => {\n    setNotification(message)\n    setTimeout(() => setNotification(null), 3000)\n  }\n\n  const showError = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => setErrorMessage(null), 3000)\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  const shownPersons = filter.length > 0\n    ? persons.filter(entry => entry.name.toLowerCase().includes(filter.toLowerCase()))\n    : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <ErrorMessage message={errorMessage} />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h3>Add entry</h3>\n      <PersonForm\n        onSubmit={addName}\n        nameValue={newName}\n        numberValue={newNumber}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={shownPersons} onDelete={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}